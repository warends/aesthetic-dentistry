(function(a){"use strict";var b=function(a,b){var c=a.find(".tp-social-reviews");c.each(function(){function a(){var a=jQuery(".elementor-element[data-tp-equal-height-loadded]");0<a.length&&EqualHeightsLoadded()}var c=b(this),d=c.data("id"),e=c.data("scroll-normal"),f=c.data("textlimit");if(!0==e.ScrollOn&&!1==e.TextLimit){let a=c.find(".showtext");a.each(function(){b(this)[0].clientHeight>=e.Height&&(b(this).addClass(e.className),b(this).css("height",e.Height))})}b(document).on("click","."+d+".tp-social-reviews .readbtn",function(){var a=b(this).closest(".tp-message"),c=a.closest(".list-isotope .post-inner-loop"),d=a.closest(".tp-social-reviews").data("scroll-normal"),e=a.find(".showtext");if(a.hasClass("show-text"))a.removeClass("show-text show-less"),b(this).html(f.showmoretxt),a.find(".sf-dots").css("display","inline"),!0==d.ScrollOn&&!0==d.TextLimit&&(e.removeClass(d.className),e.removeAttr("style"));else{a.addClass("show-text show-less"),b(this).html(f.showlesstxt),a.find(".sf-dots").css("display","none");let c=b(".tp-social-reviews").find(e);!0==d.ScrollOn&&!0==d.TextLimit&&c.each(function(){b(this)[0].clientHeight>=d.Height&&(e.addClass(d.className),e.css("height",d.Height))})}c.isotope({itemSelector:".grid-item",resizable:!0,sortBy:"original-order"})}),b("."+d).on("click",".batch-btn-no",function(a){a.preventDefault(),this.closest(".tp-batch-recommend").style.display="none"});var g=0;if(0<b("."+d+".tp-social-reviews").find(".ajax_load_more").length&&b("."+d+" .post-load-more").on("click",function(c){c.preventDefault();var d=b(this),e=d.data("loadattr"),f=d.data("loadview"),h=d.data("loadclass"),i=d.data("layout"),j=d.data("loadingtxt"),k=d.text();d.data("requestRunning")||(d.data("requestRunning",!0),b.ajax({type:"POST",data:"action=tp_reviews_load&view="+g+"&feedshow="+f+"&loadattr="+e,url:theplus_ajax_url,beforeSend:function(){b(d).text(j)},success:function(a){let c=JSON.parse(a),e=c&&c.HTMLContent?c.HTMLContent:"",j=c&&c.TotalReview?c.TotalReview:"",l=c&&c.FilterStyle?c.FilterStyle:"",m=c&&c.allposttext?c.allposttext:"";if(""==c)b(d).addClass("hide");else{let a="."+h,c=b(a+" .all .all_post_count"),f=b(a+" .post-inner-loop");f.append(e);let g=b(a).find(".grid-item").length;if(b(c).html("").append(g),"style-2"==l||"style-3"==l){let c=b(a+" .category-filters li .filter-category-list").not(".all");b.each(c,function(c,d){let e=b(d).find("span:nth-child(2)").data("hover"),f=b(a).find(".grid-item."+e).length;b(d).find("span:nth-child(1).all_post_count").html("").append(f)})}("grid"==i||"masonry"==i)&&b(a).hasClass("list-isotope")&&b(f).isotope("layout").isotope("reloadItems"),g>=j?(b(d).addClass("hide"),b(d).parent(".ajax_load_more").append("<div class=\"plus-all-posts-loaded\">"+m+"</div>")):b(d).text(k)}g+=f},complete:function(){d.data("requestRunning",!1),a()}}).then(function(){if(b("."+h).hasClass("list-isotope")&&("grid"==i||"masonry"==i)){var a=b("."+h+" .post-inner-loop");a.isotope({itemSelector:".grid-item",resizable:!0,sortBy:"original-order"})}}))}),b("body").find("."+d+" .ajax_lazy_load").length){var h,j,k,l,m,n,o=b(window),p=function(){h=o.width(),j=o.height(),k=b("body").height(),m=b("."+d+".list-isotope").height(),n=b("."+d+".list-isotope").offset().top+50,setTimeout(function(){m=b("."+d+".list-isotope").height(),n=b("."+d+".list-isotope").offset().top+50},50)};p(),o.resize(p),o.bind("scroll",function(c){c.preventDefault(),p(),l=o.scrollTop(),b("."+d+".list-isotope").each(function(){if(m=b(this).height(),n=b(this).offset().top+50,b(this).find(".post-lazy-load").length&&l<k&&l+60>m+n-j){var c=b(this).find(".post-lazy-load"),d=c.data("lazyattr"),e=c.data("lazyview"),f=c.data("lazyclass"),h=c.data("lazylayout"),i=c.data("loadingtxt"),p=c.text();if(c.data("requestRunning"))return;c.data("requestRunning",!0),b.ajax({type:"POST",data:"action=tp_reviews_load&view="+g+"&feedshow="+e+"&loadattr="+d,url:theplus_ajax_url,beforeSend:function(){b(c).text(i)},success:function(a){let d=JSON.parse(a),i=d&&d.HTMLContent?d.HTMLContent:"",j=d&&d.TotalReview?d.TotalReview:"",k=d&&d.FilterStyle?d.FilterStyle:"",l=d&&d.allposttext?d.allposttext:"";if(""==d)b(loadFeed_click).addClass("hide");else{let a="."+f,d=b(a+" .all .all_post_count"),e=b(a+" .post-inner-loop");e.append(i);let g=b(a).find(".grid-item").length;if(b(d).html("").append(g),"style-2"==k||"style-3"==k){let c=b(a+" .category-filters li .filter-category-list").not(".all");b.each(c,function(c,d){let e=b(d).find("span:nth-child(2)").data("hover"),f=b(a).find(".grid-item."+e).length;b(d).find("span:nth-child(1).all_post_count").html("").append(f)})}("grid"==h||"masonry"==h)&&b(a).hasClass("list-isotope")&&b(e).isotope("layout").isotope("reloadItems"),g>=j?(b(c).addClass("hide"),b(c).parent(".ajax_load_more").append("<div class=\"plus-all-posts-loaded\">"+l+"</div>"),o.unbind("scroll")):b(c).html("<div class=\"tp-spin-ring\"><div></div><div></div><div></div></div>")}g+=e},complete:function(){c.data("requestRunning",!1),a()}}).then(function(){if(b("."+f).hasClass("list-isotope")&&("grid"==h||"masonry"==h)){let a=b("."+f+" .post-inner-loop");a.isotope({itemSelector:".grid-item",resizable:!0,sortBy:"original-order"})}})}})})}b(".tp-social-reviews .tp-SR-copy-icon").unbind().click(function(){let a=this,b=document.createElement("textarea");b.value=a.dataset.copypostid,document.body.appendChild(b),b.select(),document.execCommand("copy"),document.body.removeChild(b),a.innerHTML="<svg version=\"1.1\" id=\"L9\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xml:space=\"preserve\" ><path fill=\"#fff\" d=\"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50\"><animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" dur=\"1s\" from=\"0 50 50\" to=\"360 50 50\" repeatCount=\"indefinite\" /></path></svg>",setTimeout(function(){a.innerHTML="<i class=\"far fa-copy CopyLoading\"></i>"},500)})})};a(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/tp-social-reviews.default",b)})})(jQuery);